--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.10
-- Dumped by pg_dump version 9.4.10
-- Started on 2017-04-03 22:37:15 CEST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 1 (class 3079 OID 11861)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2031 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- TOC entry 177 (class 1259 OID 16613)
-- Name: manip_seq; Type: SEQUENCE; Schema: public; Owner: infotaf
--

CREATE SEQUENCE manip_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483648
    CACHE 1;


ALTER TABLE manip_seq OWNER TO infotaf;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 174 (class 1259 OID 16579)
-- Name: manip; Type: TABLE; Schema: public; Owner: infotaf; Tablespace: 
--

CREATE TABLE manip (
    id integer DEFAULT nextval('manip_seq'::regclass) NOT NULL,
    nom text NOT NULL,
    prix numeric(5,2),
    type integer DEFAULT 1 NOT NULL
);


ALTER TABLE manip OWNER TO infotaf;

--
-- TOC entry 176 (class 1259 OID 16610)
-- Name: pg_seq; Type: SEQUENCE; Schema: public; Owner: infotaf
--

CREATE SEQUENCE pg_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483648
    CACHE 1;


ALTER TABLE pg_seq OWNER TO infotaf;

--
-- TOC entry 173 (class 1259 OID 16569)
-- Name: pg; Type: TABLE; Schema: public; Owner: infotaf; Tablespace: 
--

CREATE TABLE pg (
    id integer DEFAULT nextval('pg_seq'::regclass) NOT NULL,
    firstname text,
    lastname text,
    nums text,
    tbk text,
    proms text
);


ALTER TABLE pg OWNER TO infotaf;

--
-- TOC entry 178 (class 1259 OID 16616)
-- Name: pg_manip_seq; Type: SEQUENCE; Schema: public; Owner: infotaf
--

CREATE SEQUENCE pg_manip_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483648
    CACHE 1;


ALTER TABLE pg_manip_seq OWNER TO infotaf;

--
-- TOC entry 175 (class 1259 OID 16595)
-- Name: pg_manip; Type: TABLE; Schema: public; Owner: infotaf; Tablespace: 
--

CREATE TABLE pg_manip (
    id integer DEFAULT nextval('pg_manip_seq'::regclass) NOT NULL,
    id_pg integer NOT NULL,
    id_manip integer NOT NULL,
    quantite numeric(5,2) NOT NULL
);


ALTER TABLE pg_manip OWNER TO infotaf;

--
-- TOC entry 1908 (class 2606 OID 16594)
-- Name: MANIP_PK; Type: CONSTRAINT; Schema: public; Owner: infotaf; Tablespace: 
--

ALTER TABLE ONLY manip
    ADD CONSTRAINT "MANIP_PK" PRIMARY KEY (id);


--
-- TOC entry 1912 (class 2606 OID 16599)
-- Name: PG_MANIP_PK; Type: CONSTRAINT; Schema: public; Owner: infotaf; Tablespace: 
--

ALTER TABLE ONLY pg_manip
    ADD CONSTRAINT "PG_MANIP_PK" PRIMARY KEY (id);


--
-- TOC entry 1904 (class 2606 OID 16578)
-- Name: PG_NUMS_PROMS; Type: CONSTRAINT; Schema: public; Owner: infotaf; Tablespace: 
--

ALTER TABLE ONLY pg
    ADD CONSTRAINT "PG_NUMS_PROMS" UNIQUE (nums, tbk, proms);


--
-- TOC entry 1906 (class 2606 OID 16576)
-- Name: PG_PK; Type: CONSTRAINT; Schema: public; Owner: infotaf; Tablespace: 
--

ALTER TABLE ONLY pg
    ADD CONSTRAINT "PG_PK" PRIMARY KEY (id);


--
-- TOC entry 1910 (class 2606 OID 16629)
-- Name: UNIQUE_NOM; Type: CONSTRAINT; Schema: public; Owner: infotaf; Tablespace: 
--

ALTER TABLE ONLY manip
    ADD CONSTRAINT "UNIQUE_NOM" UNIQUE (nom);


--
-- TOC entry 1913 (class 2606 OID 16600)
-- Name: PG_MANIP_MANIP_FK; Type: FK CONSTRAINT; Schema: public; Owner: infotaf
--

ALTER TABLE ONLY pg_manip
    ADD CONSTRAINT "PG_MANIP_MANIP_FK" FOREIGN KEY (id_manip) REFERENCES manip(id);


--
-- TOC entry 1914 (class 2606 OID 16605)
-- Name: PG_MANIP_PG_FK; Type: FK CONSTRAINT; Schema: public; Owner: infotaf
--

ALTER TABLE ONLY pg_manip
    ADD CONSTRAINT "PG_MANIP_PG_FK" FOREIGN KEY (id_pg) REFERENCES pg(id);


--
-- TOC entry 2030 (class 0 OID 0)
-- Dependencies: 6
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2017-04-03 22:37:15 CEST

--
-- PostgreSQL database dump complete
--

